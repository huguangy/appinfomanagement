<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">
<div th:replace="/backend/common/header"></div>
<div class="clearfix"></div>
<div class="row">
    <div class="col-md-12 col-sm-12 col-xs-12">
        <div class="x_panel">
            <div class="x_title">
                <h2>查看并审核APP信息 <i class="fa fa-user"></i> <label
                        th:text="${session.SESSION_BACKEND_USER.getUserName() }"></label>  </small></h2>
                <div class="clearfix"></div>
            </div>
            <div class="x_title">
                <h2>APP基础信息</h2>
                <div class="clearfix"></div>
            </div>
            <div class="x_content1">
                <form class="form-horizontal form-label-left" th:action="@{/appInfo/updateAppInfo}" method="post"
                      id="updateForm">
                    <input type="hidden" id="status" name="status">
                    <input type="hidden" name="id" th:value="${appinfo.getId()}">
                    <div class="item form-group">
                        <label class="control-label col-md-3 col-sm-3 col-xs-12">软件名称 <span class="required">*</span>
                        </label>
                        <div class="col-md-6 col-sm-6 col-xs-12">
                            <input class="form-control col-md-7 col-xs-12" th:value="${appinfo.softwareName}"
                                   type="text" readonly="readonly">
                        </div>
                    </div>
                    <div class="item form-group">
                        <label class="control-label col-md-3 col-sm-3 col-xs-12">APK名称 <span
                                class="required">*</span>
                        </label>
                        <div class="col-md-6 col-sm-6 col-xs-12">
                            <input type="text" class="form-control col-md-7 col-xs-12"
                                   th:value="${appinfo.getApkName()}" readonly="readonly">
                        </div>
                    </div>

                    <div class="item form-group">
                        <label class="control-label col-md-3 col-sm-3 col-xs-12">支持ROM <span
                                class="required">*</span>
                        </label>
                        <div class="col-md-6 col-sm-6 col-xs-12">
                            <input class="form-control col-md-7 col-xs-12"
                                   th:value="${appinfo.getSupportROM()}" type="text" readonly="readonly">
                        </div>
                    </div>
                    <div class="item form-group">
                        <label class="control-label col-md-3 col-sm-3 col-xs-12">界面语言 <span class="required">*</span>
                        </label>
                        <div class="col-md-6 col-sm-6 col-xs-12">
                            <input class="form-control col-md-7 col-xs-12" readonly="readonly"
                                   th:value="${appinfo.getInterfaceLanguage()}" type="text">
                        </div>
                    </div>
                    <div class="item form-group">
                        <label class="control-label col-md-3 col-sm-3 col-xs-12">软件大小 <span
                                class="required">*</span>
                        </label>
                        <div class="col-md-6 col-sm-6 col-xs-12">
                            <input type="text" th:value="${appinfo.getSoftwareSize()}"
                                   class="form-control col-md-7 col-xs-12" readonly="readonly">
                        </div>
                    </div>

                    <div class="item form-group">
                        <label class="control-label col-md-3 col-sm-3 col-xs-12">下载次数 <span
                                class="required">*</span>
                        </label>
                        <div class="col-md-6 col-sm-6 col-xs-12">
                            <input type="text" th:value="${appinfo.getDownloads()}"
                                   class="form-control col-md-7 col-xs-12" readonly="readonly">
                        </div>
                    </div>

                    <div class="item form-group">
                        <label class="control-label col-md-3 col-sm-3 col-xs-12">所属平台 <span
                                class="required">*</span></label>
                        <div class="col-md-6 col-sm-6 col-xs-12">
                            <input type="text" class="form-control col-md-7 col-xs-12"
                                   th:value="${appinfo.getFlatform().getValueName()}" readonly="readonly">

                        </div>
                    </div>
                    <div class="item form-group">
                        <label class="control-label col-md-3 col-sm-3 col-xs-12">所属分类 <span
                                class="required">*</span></label>
                        <div class="col-md-6 col-sm-6 col-xs-12">
                            <input type="text" class="form-control col-md-7 col-xs-12"
                                   th:value="${appinfo.getCategoryA().getCategoryName()}+'-->'+${appinfo.getCategoryB().getCategoryName()}+'-->'+${appinfo.getCategoryC().getCategoryName()}"
                                   readonly="readonly">
                        </div>
                    </div>
                    <div class="item form-group">
                        <label class="control-label col-md-3 col-sm-3 col-xs-12">APP状态 <span
                                class="required">*</span>
                        </label>
                        <div class="col-md-6 col-sm-6 col-xs-12">
                            <input type="text" class="form-control col-md-7 col-xs-12"
                                   th:value="${appinfo.getAppStatus().getValueName()}" readonly="readonly">
                        </div>
                    </div>
                    <div class="item form-group">
                        <label class="control-label col-md-3 col-sm-3 col-xs-12">应用简介 <span
                                class="required">*</span>
                        </label>
                        <div class="col-md-6 col-sm-6 col-xs-12">
              <textarea class="form-control col-md-7 col-xs-12" readonly="readonly" th:text="${appinfo.getAppInfo()}">
              </textarea>
                        </div>
                    </div>
                    <div class="item form-group">
                        <label class="control-label col-md-3 col-sm-3 col-xs-12">LOGO图片 <span
                                class="required">*</span>
                        </label>
                        <div class="col-md-6 col-sm-6 col-xs-12">
                            <span th:if="${appinfo.logoPicPath == null}">暂无</span>
                            <img th:if="${appinfo.logoPicPath != null}"
                                 th:src="@{${appinfo.logoPicPath}}">
                        </div>
                    </div>
                    <div class="form-group">
                        <div class="col-md-6 col-md-offset-3">
                            <button type="button" name="status" th:if="${version!=null}" onclick="updateFormSib(2)" class="btn btn-success">审核通过
                            </button>
                            <button type="button" name="status" th:if="${version!=null}" onclick="updateFormSib(3)" class="btn btn-success">审核不通过
                            </button>
                            <button type="button" class="btn btn-primary" id="back">返回</button>
                        </div>
                    </div>
                </form>
            </div>
            <div class="clearfix"></div>
            <div class="x_title" th:if="${version!=null}">
                <h2>最新版本信息</h2>
                <ul class="nav navbar-right panel_toolbox">
                    <li><a class="collapse-link"><i class="fa fa-chevron-up"></i></a>
                    </li>
                </ul>
                <div class="clearfix"></div>
            </div>
            <div class="x_content" style="display: block;" th:if="${version!=null}">
                <br>
                <form class="form-horizontal form-label-left">
                    <div class="item form-group">
                        <label class="control-label col-md-3 col-sm-3 col-xs-12">版本号 <span
                                class="required">*</span>
                        </label>
                        <div class="col-md-6 col-sm-6 col-xs-12">
                            <input class="form-control col-md-7 col-xs-12" th:value="${version.getVersionNo() }"
                                   type="text" readonly="readonly">
                        </div>
                    </div>
                    <div class="item form-group">
                        <label class="control-label col-md-3 col-sm-3 col-xs-12">版本大小 <span
                                class="required">*</span>
                        </label>
                        <div class="col-md-6 col-sm-6 col-xs-12">
                            <input type="number" th:value="${version.getVersionSize() }"
                                   class="form-control col-md-7 col-xs-12">
                        </div>
                    </div>

                    <div class="item form-group">
                        <label class="control-label col-md-3 col-sm-3 col-xs-12">发布状态 <span
                                class="required">*</span></label>
                        <div class="col-md-6 col-sm-6 col-xs-12">
                            <input type="hidden" name="publishStatus" id="publishStatus" value="3">预发布
                        </div>
                    </div>

                    <div class="item form-group">
                        <label class="control-label col-md-3 col-sm-3 col-xs-12">版本简介 <span
                                class="required">*</span>
                        </label>
                        <div class="col-md-6 col-sm-6 col-xs-12">
              <textarea class="form-control col-md-7 col-xs-12" th:text="${version.getVersionInfo() }">
             </textarea>
                        </div>
                    </div>
                    <div class="item form-group">
                        <label class="control-label col-md-3 col-sm-3 col-xs-12">apk文件 <span
                                class="required">*</span>
                        </label>
                        <div class="col-md-6 col-sm-6 col-xs-12">
                            <p th:text="${version.getApkFileName()}">&nbsp;&nbsp;</p>
                        </div>
                    </div>
                    <div class="clearfix"></div>
                    <br/><br/>
                </form>
            </div>
            <div class="clearfix"></div>
            <br/><br/>
        </div>
    </div>
    <div th:replace="/backend/common/footer"></div>
    <script type="text/javascript" th:inline="javascript">
        $(function () {
            var ctxPath = /*[[@{/}]]*/'';
            $("#back").on("click", function () {
                /* window.history.back();*/
                window.history.go(-1);
            });

        });

        function updateFormSib(start) {
            $("#status").val(start);
            $("#updateForm").submit();
        }
    </script>